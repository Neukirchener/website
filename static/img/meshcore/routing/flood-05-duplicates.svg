<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 500">
  <defs>
    <marker id="arrow-gray" markerWidth="8" markerHeight="8" refX="7" refY="3" orient="auto">
      <path d="M0,0 L0,6 L7,3 z" fill="#94a3b8"/>
    </marker>
  </defs>

  <!-- Titel -->
  <text x="450" y="30" text-anchor="middle" font-family="sans-serif" font-size="20" font-weight="bold">FLOOD Schritt 5: Weitere Repeater senden!</text>

  <!-- Reichweiten -->
  <circle cx="300" cy="280" r="520" fill="none" stroke="#000" stroke-width="1.5" stroke-dasharray="8,4" opacity="0.3"/>
  <circle cx="550" cy="200" r="250" fill="none" stroke="#000" stroke-width="1.5" stroke-dasharray="8,4" opacity="0.3"/>

  <!-- Alice -->
  <circle cx="100" cy="200" r="45" fill="#dcfce7" stroke="#22c55e" stroke-width="2"/>
  <text x="100" y="215" text-anchor="middle" font-family="sans-serif" font-size="40" fill="white" font-weight="bold">A</text>
  <text x="100" y="270" text-anchor="middle" font-family="sans-serif" font-size="14" font-weight="bold">Alice</text>

  <!-- Repeater A1 -->
  <circle cx="300" cy="150" r="35" fill="#fed7aa" stroke="#f97316" stroke-width="2"/>
  <text x="300" y="205" text-anchor="middle" font-family="sans-serif" font-size="14" font-weight="bold">Repeater A1</text>
  <text x="300" y="220" text-anchor="middle" font-family="sans-serif" font-size="11" fill="#22c55e">✓</text>

  <!-- Repeater B2 (zu spät - rot) -->
  <circle cx="300" cy="280" r="40" fill="#fecaca" stroke="#ef4444" stroke-width="4"/>
  <text x="300" y="335" text-anchor="middle" font-family="sans-serif" font-size="14" font-weight="bold">Repeater B2</text>
  <text x="300" y="350" text-anchor="middle" font-family="sans-serif" font-size="11" fill="#dc2626">zu spät!</text>

  <!-- Repeater C3 (zu spät - rot) -->
  <circle cx="550" cy="200" r="40" fill="#fecaca" stroke="#ef4444" stroke-width="4"/>
  <text x="550" y="255" text-anchor="middle" font-family="sans-serif" font-size="14" font-weight="bold">Repeater C3</text>
  <text x="550" y="270" text-anchor="middle" font-family="sans-serif" font-size="11" fill="#dc2626">zu spät!</text>

  <!-- Bob (fertig) -->
  <circle cx="750" cy="200" r="45" fill="#dcfce7" stroke="#22c55e" stroke-width="3"/>
  <text x="750" y="215" text-anchor="middle" font-family="sans-serif" font-size="40" fill="white" font-weight="bold">B</text>
  <text x="750" y="260" text-anchor="middle" font-family="sans-serif" font-size="14" font-weight="bold">Bob</text>
  <text x="750" y="275" text-anchor="middle" font-family="sans-serif" font-size="11" fill="#22c55e">✓ erhalten</text>

  <!-- Ausstrahlungs-Kreise um Repeater B2 -->
  <circle cx="300" cy="280" r="65" fill="none" stroke="#94a3b8" stroke-width="1" opacity="0.6"/>
  <circle cx="300" cy="280" r="90" fill="none" stroke="#94a3b8" stroke-width="1" opacity="0.4"/>
  <circle cx="300" cy="280" r="115" fill="none" stroke="#94a3b8" stroke-width="1" opacity="0.25"/>

  <!-- Ausstrahlungs-Kreise um Repeater C3 -->
  <circle cx="550" cy="200" r="65" fill="none" stroke="#94a3b8" stroke-width="1" opacity="0.6"/>
  <circle cx="550" cy="200" r="90" fill="none" stroke="#94a3b8" stroke-width="1" opacity="0.4"/>
  <circle cx="550" cy="200" r="115" fill="none" stroke="#94a3b8" stroke-width="1" opacity="0.25"/>

  <!-- Durchgestrichene Pfeile (verworfen) -->
  <line x1="340" y1="280" x2="700" y2="210" stroke="#ef4444" stroke-width="2" stroke-dasharray="5,5" opacity="0.5"/>
  <line x1="590" y1="200" x2="700" y2="200" stroke="#ef4444" stroke-width="2" stroke-dasharray="5,5" opacity="0.5"/>

  <!-- X Markierungen -->
  <text x="615" y="210" font-family="sans-serif" font-size="30" fill="#ef4444" font-weight="bold">✗</text>
  <text x="640" y="234" font-family="sans-serif" font-size="30" fill="#ef4444" font-weight="bold">✗</text>

  <!-- Erklärboxen -->
  <rect x="350" y="305" width="150" height="50" rx="5" fill="#fef2f2" stroke="#ef4444" stroke-width="2"/>
  <text x="425" y="325" text-anchor="middle" font-family="sans-serif" font-size="10" fill="#991b1b">Repeater B2 sendet [B2]</text>
  <text x="425" y="340" text-anchor="middle" font-family="sans-serif" font-size="10" fill="#991b1b">Bob: "Schon gesehen!"</text>

  <rect x="600" y="120" width="150" height="50" rx="5" fill="#fef2f2" stroke="#ef4444" stroke-width="2"/>
  <text x="675" y="140" text-anchor="middle" font-family="sans-serif" font-size="10" fill="#991b1b">Repeater C3 sendet [A1,C3]</text>
  <text x="675" y="155" text-anchor="middle" font-family="sans-serif" font-size="10" fill="#991b1b">Bob: "Schon gesehen!"</text>

  <!-- Frame-Darstellung (verworfen) -->
  <rect x="50" y="400" width="800" height="80" rx="5" fill="#1f2937"/>
  <text x="70" y="425" font-family="monospace" font-size="12" fill="#fca5a5">Verworfen von Bob:</text>

  <rect x="220" y="410" width="180" height="25" rx="3" fill="#7f1d1d" opacity="0.7"/>
  <text x="230" y="426" text-anchor="start" font-family="monospace" font-size="10" fill="#fca5a5">[FLOOD][Len=1][B2][...]</text>
  <text x="410" y="428" font-family="sans-serif" font-size="14" fill="#ef4444">✗</text>

  <rect x="220" y="445" width="200" height="25" rx="3" fill="#7f1d1d" opacity="0.7"/>
  <text x="230" y="461" text-anchor="start" font-family="monospace" font-size="10" fill="#fca5a5">[FLOOD][Len=2][A1,C3][...]</text>
  <text x="430" y="463" font-family="sans-serif" font-size="14" fill="#ef4444">✗</text>

  <text x="500" y="450" font-family="sans-serif" font-size="14" fill="#4ade80" font-weight="bold">HASH(Payload) identisch → Duplikat!</text>
</svg>