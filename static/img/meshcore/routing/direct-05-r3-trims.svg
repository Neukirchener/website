<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 500">
  <defs>
    <marker id="arrow-orange" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <path d="M0,0 L0,6 L9,3 z" fill="#f97316"/>
    </marker>
  </defs>

  <!-- Titel -->
  <text x="450" y="30" text-anchor="middle" font-family="sans-serif" font-size="20" font-weight="bold">DIRECT Schritt 5: Repeater C3 entfernt sich - Path wird leer!</text>

  <!-- Reichweiten -->
  <circle cx="550" cy="200" r="250" fill="none" stroke="#000" stroke-width="1.5" stroke-dasharray="8,4" opacity="0.3"/>

  <!-- Alice -->
  <circle cx="100" cy="200" r="45" fill="#dcfce7" stroke="#22c55e" stroke-width="2"/>
  <text x="100" y="215" text-anchor="middle" font-family="sans-serif" font-size="40" fill="white" font-weight="bold">A</text>
  <text x="100" y="270" text-anchor="middle" font-family="sans-serif" font-size="14" font-weight="bold">Alice</text>
  <text x="100" y="285" text-anchor="middle" font-family="sans-serif" font-size="11" fill="#22c55e">✓</text>

  <!-- Repeater A1 -->
  <circle cx="300" cy="150" r="35" fill="#fed7aa" stroke="#f97316" stroke-width="2"/>
  <text x="300" y="205" text-anchor="middle" font-family="sans-serif" font-size="14" font-weight="bold">Repeater A1</text>
  <text x="300" y="220" text-anchor="middle" font-family="sans-serif" font-size="11" fill="#22c55e">✓</text>

  <!-- Repeater B2 (ausgegraut) -->
  <circle cx="300" cy="280" r="35" fill="#e5e7eb" stroke="#9ca3af" stroke-width="2"/>
  <text x="300" y="335" text-anchor="middle" font-family="sans-serif" font-size="14" fill="#9ca3af">Repeater B2</text>

  <!-- Ausstrahlungs-Kreise um Repeater C3 -->
  <circle cx="550" cy="200" r="70" fill="none" stroke="#94a3b8" stroke-width="1" opacity="0.6"/>
  <circle cx="550" cy="200" r="95" fill="none" stroke="#94a3b8" stroke-width="1" opacity="0.4"/>
  <circle cx="550" cy="200" r="120" fill="none" stroke="#94a3b8" stroke-width="1" opacity="0.25"/>

  <!-- Repeater C3 (sendet - orange) -->
  <circle cx="550" cy="200" r="45" fill="#fb923c" stroke="#ea580c" stroke-width="4"/>
  <text x="550" y="260" text-anchor="middle" font-family="sans-serif" font-size="14" font-weight="bold">Repeater C3</text>
  <text x="550" y="275" text-anchor="middle" font-family="sans-serif" font-size="11" fill="#9a3412" font-weight="bold">SENDET</text>

  <!-- Bob -->
  <circle cx="750" cy="200" r="40" fill="#bfdbfe" stroke="#3b82f6" stroke-width="2"/>
  <text x="750" y="215" text-anchor="middle" font-family="sans-serif" font-size="40" fill="white" font-weight="bold">B</text>
  <text x="750" y="260" text-anchor="middle" font-family="sans-serif" font-size="14" font-weight="bold">Bob</text>

  <!-- Pfeil von Repeater C3 zu Bob -->
  <line x1="595" y1="200" x2="700" y2="200" stroke="#f97316" stroke-width="4" marker-end="url(#arrow-orange)"/>

  <!-- Transformation Box -->
  <rect x="580" y="70" width="180" height="80" rx="8" fill="#fff7ed" stroke="#f97316" stroke-width="2"/>
  <text x="670" y="95" text-anchor="middle" font-family="sans-serif" font-size="12" fill="#9a3412" font-weight="bold">Frame-Transformation:</text>
  <text x="670" y="115" text-anchor="middle" font-family="monospace" font-size="11" fill="#9a3412">[C3] → []</text>
  <text x="670" y="135" text-anchor="middle" font-family="sans-serif" font-size="11" fill="#9a3412">PathLen: 1 → 0</text>

  <!-- Frame-Darstellung: Vorher/Nachher -->
  <rect x="50" y="390" width="800" height="100" rx="5" fill="#1f2937"/>

  <!-- Vorher -->
  <text x="70" y="418" font-family="monospace" font-size="12" fill="#9ca3af">Vorher:</text>
  <rect x="140" y="400" width="60" height="28" rx="3" fill="#8b5cf6"/>
  <text x="170" y="418" text-anchor="middle" font-family="monospace" font-size="10" fill="white">DIRECT</text>
  <rect x="205" y="400" width="45" height="28" rx="3" fill="#f97316"/>
  <text x="227" y="418" text-anchor="middle" font-family="monospace" font-size="10" fill="white">Len=1</text>
  <rect x="255" y="400" width="35" height="28" rx="3" fill="#fbbf24"/>
  <text x="272" y="418" text-anchor="middle" font-family="monospace" font-size="10" fill="#78350f">C3</text>
  <rect x="295" y="400" width="80" height="28" rx="3" fill="#6b7280"/>
  <text x="335" y="418" text-anchor="middle" font-family="monospace" font-size="9" fill="white">[Payload]</text>

  <!-- Nachher -->
  <text x="70" y="472" font-family="monospace" font-size="12" fill="#fb923c">Nachher:</text>
  <rect x="140" y="455" width="60" height="28" rx="3" fill="#8b5cf6"/>
  <text x="170" y="473" text-anchor="middle" font-family="monospace" font-size="10" fill="white">DIRECT</text>
  <rect x="205" y="455" width="45" height="28" rx="3" fill="#22c55e"/>
  <text x="227" y="473" text-anchor="middle" font-family="monospace" font-size="10" fill="white">Len=0</text>
  <rect x="255" y="455" width="35" height="28" rx="3" fill="#fbbf24"/>
  <text x="272" y="473" text-anchor="middle" font-family="monospace" font-size="10" fill="#6b7280">[]</text>
  <rect x="295" y="455" width="80" height="28" rx="3" fill="#6b7280"/>
  <text x="335" y="473" text-anchor="middle" font-family="monospace" font-size="9" fill="white">[Payload]</text>

  <!-- Hinweis -->
  <text x="420" y="475" font-family="sans-serif" font-size="12" fill="#ef4444" font-weight="bold">← Path leer = 0 Hops zum Empfänger!</text>

  <!-- Durchgestrichenes A1 -->
  <line x1="252" y1="405" x2="292" y2="425" stroke="#ef4444" stroke-width="2"/>
  <line x1="252" y1="425" x2="292" y2="405" stroke="#ef4444" stroke-width="2"/>
</svg>